python manage.py createsuperuser --email danny@admin.com --username danny


pass = evilangel


bash: curl -H 'Accept: application/json; indent=4' -u admin:evilangel http://127.0.0.1:8000/users/

http -a danny@admin.com:evilangel http://127.0.0.1:8000/users/

  # nation_code_id = models.ForeignKey('PersonalData.nationcode', on_delete=models.CASCADE,)




  ######################
  LEXERS = [item for item in get_all_lexers() if item[1]]
LANGUAGE_CHOICES = sorted([(item[1][0], item[0]) for item in LEXERS])
SEX_CHOICES = sorted((item, item) for item in get_all_styles())
# Create your models here.



class Snippet(models.Model):
    nationcode = models.CharField(max_length=100, blank=True, default='')
    # birthday = models.DateTimeField()
    now_date = models.DateTimeField(auto_now_add=True)
    name_and_family = models.CharField(max_length=100,blank=True, default='')
    address = models.TextField()
    sex = models.CharField(choices=SEX_CHOICES, default='man')

    class Meta:
        ordering = ('now_date',)

    # age = F('now_date') - F('birthday')

     # nationcode = models.PositiveIntegerField(primary_key=True, validators=[MaxValueValidator(9999999999)],default=10)
class HeartDetail(models.Model):
    attack_date = models.DateTimeField()
    event_date  = models.DateTimeField(auto_now_add=True)
    lead1 = models.TextField(blank=True, default='')
    lead2 = models.TextField(blank=True, default='')
    lead3 = models.TextField(blank=True, default='')
    lead4 = models.TextField(blank=True, default='')
    lead5 = models.TextField(blank=True, default='')
    lead6 = models.TextField(blank=True, default='')
    lead8 = models.TextField(blank=True, default='')
    #todo: add lead 9 - lead 12


    ##########serialize

    from rest_framework import serializers
from snippets.models import Snippet, LANGUAGE_CHOICES, SEX_CHOICES


class SnippetSerializer(serializers.Serializer):
    id = serializers.IntegerField(allow_blank=True)
    nationcode = serializers.CharField(required=False, allow_blank=True, max_length=100)
    name_and_family = serializers.CharField(style={'base_template': 'textarea.html'})
    address = serializers.CharField()
    sex = serializers.ChoiceField(choices=SEX_CHOICES, default='man')
    
    def create(self, validated_data):
        """
        Create and return a new `Snippet` instance, given the validated data.
        """
        return Snippet.objects.now_date(**validated_data)

    def update(self, instance, validated_data):
        """
        Update and return an existing `Snippet` instance, given the validated data.
        """
        instance.nationcode = validated_data.get('nationcode', instance.nationcode)
        instance.name_and_family = validated_data.get('name_and_family', instance.name_and_family)
        # instance.linenos = validated_data.get('linenos', instance.linenos)
        instance.address = validated_data.get('address', instance.address)
        instance.sex = validated_data.get('sex', instance.sex)
        instance.save()
        return instance


        my_dict = {"nation_code":"0813595858","phone_number":"02155504689","first_name":"ali","last_name":"salmanopur","birth_day":"1933-09-18T12:27:36.993048Z","address":"Larr_koche23","sex":"MR."}
exit()


python manage.py startapp doc
from holter.models import Profiles
from doc.models import Docs

myp2 = Docs(attending_physician="ravi",final_dignosis="dead",author=qa)

Prodiles object (3)